<!doctype html><html lang="es"><head><meta charset="utf-8"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0"/><title>Web Vitals Leaderboard</title><style>body{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;table-layout:fixed;border-collapse:collapse;margin:0 auto;text-align:center;min-height:100vh;color:#010101}abbr{text-decoration:none}h1{margin:0;font-size:32px;font-weight:500}h2{font-size:18px;font-weight:500;margin-bottom:40px}button{font-size:0.8em;padding:0.5em 0.727em;background-color:#FAFAFA;background-image:linear-gradient(#FAFAFA, #EAEAEA);box-shadow:inset 0px 1px rgba(255, 255, 255, .5);border:1px solid #D4D4D4;border-bottom-color:#BCBCBC;color:#333;text-shadow:0 1px 0 white;cursor:pointer;border-radius:3px;display:inline-block;font-family:arial,helvetica,sans-serif;height:auto;line-height:1.1em;text-decoration:none;white-space:nowrap}input[type="url"]{padding:6px;border:1px solid #D4D4D4;border-bottom-color:#BCBCBC;color:#333;border-radius:3px}.heroo{background-color:#f5f6fa;border-bottom:1px solid #dcdde1;padding:40px 0px 20px}table{border-spacing:0;border-collapse:collapse;margin:30px auto;font-size:13px}tbody{text-align:left}tbody tr{background-color:#fff}tbody tr:nth-child(even){background-color:#f6f6f6}th{font-size:11px;text-transform:uppercase;padding:5px 0 15px}td{padding:1rem 1rem 1rem 2rem;border:solid #dcdde1;border-width:1px 0}figure{display:block;overflow:hidden;max-width:200px;text-align:left;margin:0}.logo{border-radius:4px;float:left;display:block}figcaption{margin-left:40px}figcaption strong{display:block}.url{color:rgb(97,97,97);white-space:nowrap;max-width:330px;font-size:13px;text-overflow:ellipsis;overflow:hidden;display:inline-block}.ranking{text-align:center}.rank-1{font-size:3em}.rank-2{font-size:2.5em}.rank-3{font-size:2em}.fast,.average,.fail{font-weight:500;border-style:inset}.fast{background-color:#33d9b2;border-color:#33d9b2}.average{background-color:#ffda79;border-color:#ffda79}.fail{background-color:#ff7675;border-color:#ff7675}hr{width:50%;margin:20px auto;border:none;border-top:1px solid #f5f5f5}footer{margin-top:20px;font-size:12px}.results{position:relative}.loading{position:absolute;top:0;left:50%;margin-left:-100px;z-index:-1}@media (min-width: 320px) and (max-width: 480px){td{padding: .8rem}th:nth-child(3),td:nth-child(3){display:none}figure{max-width:36px}input[type="url"]{width:170px}}</style></head><body> <section class="heroo"><h1>Web Vitals Leaderboard</h1><h2>Compare your speed against competitors</h2><form> <label>URL <input id="url" type="url" name="url" size="50" value="https://" /> </label> <button id="add" type="submit" name="action" value="add">Add</button> <br/><br/> <button id="run" type="submit" name="action" value="run">üö• Run</button> <button id="reset" type="reset" name="action">üè≥ Reset</button></form> <footer>Made with <span class="heart">‚ù§Ô∏è</span>by <a href="https://twitter.com/pazguille" target="_blank" rel="noopener noreferrer">pazguille</a></p></footer> </section> <section class="results"> <img id="loading" class="loading" width="200" height="200" src="./loading.gif" /><table hidden><thead><tr><th>Rank</th><th>Site</th><th>URL</th><th> <a href="https://web.dev/fcp/" target="_blank" rel="noopener noreferrer"> <abbr title="First Contentful Paint">FCP</abbr> </a></th><th> <a href="https://web.dev/lcp/" target="_blank" rel="noopener noreferrer"> <abbr title="Largest Contentful Paint">LCP</abbr> </a></th><th> <a href="https://web.dev/fid/" target="_blank" rel="noopener noreferrer"> <abbr title="First Input Delay">FID</abbr> </a></th><th> <a href="https://web.dev/cls/" target="_blank" rel="noopener noreferrer"> <abbr title="Cumulative Layout Shift">CLS</abbr> </a></th></tr></thead><tbody id="content"></tbody></table> </section>
<script>function e(t){return`<img class="logo" width="32" height="32" src="https://api.faviconkit.com/${new URL(t).host}/144" alt="${t}"/>`}t=null,document.addEventListener("click",(function(e){e.target.closest&&(t=e.target.closest("button, input[type=submit]"))}),!0),document.addEventListener("submit",(function(e){if(!("submitter"in e)){for(var n=[document.activeElement,t],r=0;r<n.length;r++){var i=n[r];if(i&&i.form&&i.matches("button, input[type=button], input[type=image]"))return void(e.submitter=i)}e.submitter=e.target.querySelector("button, input[type=button], input[type=image]")}}),!0);const n=["ü•á","ü•à","ü•â"],r={FCP:t=>t<=1?"fast":t>=2?"fail":"average",LCP:t=>t<=2.5?"fast":t>=4?"fail":"average",FID:t=>t<=100?"fast":t>=300?"fail":"average",CLS:t=>t<=.1?"fast":t>=.25?"fail":"average"};const i=[],s=document.querySelector("#url"),o=document.querySelector("#reset"),a=document.querySelector("form"),d=document.querySelector("#content"),u=document.querySelector("table"),c=document.querySelector(".loading");function l(t){u.setAttribute("hidden","hidden"),c.removeAttribute("hidden");const i=t.map(t=>encodeURIComponent(t)).join(",");return fetch("https://crux.pazguille.me/api/web-vitals?urls="+i).then(t=>t.json()).then(t=>{const i=t.sort((s="LCP",(t,e)=>t.metrics[s].value<e.metrics[s].value?-1:t.metrics[s].value>e.metrics[s].value?1:0)).map((t,i)=>function(t,i){const s=t.metrics.FCP&&(t.metrics.FCP.value/1e3).toFixed(2)||"",o=t.metrics.LCP&&(t.metrics.LCP.value/1e3).toFixed(2)||"",a=t.metrics.FID&&t.metrics.FID.value||"",d=t.metrics.CLS&&t.metrics.CLS.value||"",u=t.origin||t.url;return`\n<tr>\n  <td class="ranking rank-${i}">${n[i-1]||i}</td>\n  <td>\n    <figure>\n      ${e(u)}\n      <figcaption>\n        <strong>${new URL(u).host.split(".")[1].replace(/^\w/,t=>t.toUpperCase())}</strong>\n        ${new URL(u).host}\n      </figcaption>\n    </figure>\n  </td>\n  <td><a href="${u}" class="url" target="_blank" rel="noopener noreferrer" title="${u}">${u}</a></td>\n  <td class="${r.FCP(s)}">${s}s</td>\n  <td class="${r.LCP(o)}">${o}s</td>\n  <td class="${r.FID(a)}">${a}ms</td>\n  <td class="${r.CLS(d)}">${d}</td>\n</tr>\n`}(t,i+=1));var s;d.innerHTML="",d.insertAdjacentHTML("beforeend",i.join("")),c.setAttribute("hidden","hidden"),u.removeAttribute("hidden")})}function m(){i.length=0,d.innerHTML="",u.setAttribute("hidden","hidden")}a.addEventListener("submit",(function(t){var n;t.preventDefault(),"add"===t.submitter.id?(0===i.length&&m(),i.push(s.value),d.insertAdjacentHTML("beforeend",`\n<tr>\n  <td class="ranking">-</td>\n  <td>\n    <figure>\n      ${e(n=s.value)}\n      <figcaption>\n        <strong>${new URL(n).host.split(".")[1].replace(/^\w/,t=>t.toUpperCase())}</strong>\n        ${new URL(n).host}\n      </figcaption>\n    </figure>\n  </td>\n  <td><a href="${n}" class="url" target="_blank" rel="noopener noreferrer" title="${n}">${n}</a></td>\n  <td>0s</td>\n  <td>0s</td>\n  <td>0ms</td>\n  <td>0</td>\n</tr>\n`),u.removeAttribute("hidden")):"run"===t.submitter.id&&l(i),s.value=""})),o.addEventListener("click",m),l(["https://www.cnn.com","https://www.nytimes.com","https://www.foxnews.com","https://www.theguardian.com/international","https://www.washingtonpost.com"]).then(()=>u.removeAttribute("hidden"))</script>
</body></html>
